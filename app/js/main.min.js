window.addEventListener("DOMContentLoaded",()=>{$(".js-tilt").tilt();AOS.init();const t={power:{x:20,y:20},events:[],ing:!1,target:null,onInit(){const t=this;var o=document.querySelectorAll(".magnetic-btn");for(let e=0;e<o.length;e++)t.events.push({el:o[e],enter:{func:null,event:null},leave:{func:null,event:null}});for(let e=0;e<this.events.length;e++){var r=this.events[e];r.enter.func=function(e){t.target=e.target,t.ing=!0},r.enter.event=r.el.addEventListener("mouseenter",r.enter.func),r.leave.func=function(e){t.onMouseLeave(),t.ing=!1},r.leave.event=r.el.addEventListener("mouseleave",r.leave.func)}},onMouseMove(e){var t,o;this.ing&&this.target&&(t=e.clientX,e=e.clientY,o=2*((t-(t=this.target.getBoundingClientRect()).left)/t.width-.5),e=2*((e-t.top)/t.height-.5),t=180*o*Math.PI/180,o=180*e*Math.PI/180,gsap.to(this.target,{duration:.4,rotation:t,x:t*this.power.x,y:o*this.power.y}))},onMouseLeave(){gsap.to(this.target,{duration:.8,rotation:0,x:0,y:0,ease:"power2.out"})},onDestroy(){for(let e=0;e<this.events.length;e++){var t=this.events[e];t.el.removeEventListener("mouseenter",t.enter.func),t.el.removeEventListener("mouseleave",t.leave.func)}this.events=[],this.ing=!1}};t.onInit(),window.addEventListener("mousemove",e=>{t.onMouseMove(e)}),document.querySelectorAll(".promo").forEach(e=>{e&&parallaxMouse({elements:".promo__preview",moveFactor:5,wrap:".promo",perspective:"100px"})}),document.querySelectorAll(".launch").forEach(e=>{e&&parallaxMouse({elements:".launch__img",moveFactor:15,wrap:".launch",perspective:"100px"})});var e=new TimelineMax;e.from(".header__logo",.7,{y:-20,opacity:0}),e.from(".header__link",.4,{y:-20,opacity:0}),e.from(".header-contacts",.4,{y:-20,opacity:0}),e.from("nav",.4,{y:-20,opacity:0}),e.from([".hero__offer",".promo__text",".promo__title",".promo__btn"],.4,{y:-20,opacity:0}).from([".hero__preview",".promo__preview"],.4,{y:-20,opacity:0}).from(".hero__download",.2,{y:-20,opacity:0}).to(".hero__download",.2,{y:0,opacity:1}).to(".promo__btn",.2,{y:0,opacity:1}),$('input[type="tel"]').mask("+7 (999) 999-99-99");{const l=document.querySelector(".form-order__next"),s=document.querySelector(".btn-submit"),i=document.querySelectorAll(".form-order__inner");document.querySelectorAll(".form-order__inner input");let t=0;l&&l.addEventListener("click",e=>{t++,i[t].previousElementSibling.classList.remove("active"),i[t].classList.add("active"),t===i.length-1&&(l.style.display="none",s.style.display="block")})}e=document.querySelector(".cases__slider"),new Swiper(e,{slidesPerView:1,navigation:{nextEl:".cases__slider .swiper-button-next",prevEl:".cases__slider .swiper-button-prev"}});var o,r;e=".accordion-control",o=".accordion-content",r=".accordion",document.querySelectorAll(e).forEach(e=>{e&&e.addEventListener("click",e=>{var e=e.target.closest(r),t=e.querySelector(o);e.classList.toggle("active"),e.classList.contains("active")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight=null})}),window.addEventListener("scroll",function(){var e=document.querySelector("header");90<=this.scrollY?e.classList.add("scroll-header"):e.classList.remove("scroll-header")}),e=document.querySelector("header"),90<=window.pageYOffset&&e.classList.add("scroll-header");{e=document.querySelector(".header__toggle");const c=document.querySelector(".mobile-menu");var n=document.querySelector(".mobile-menu__close");const a=document.querySelector("body"),d=document.querySelector(".overlay");e.addEventListener("click",e=>{c.classList.toggle("active"),d.classList.toggle("active"),a.classList.toggle("no-scroll")}),d.addEventListener("click",e=>{c.classList.remove("active"),d.classList.remove("active"),a.classList.remove("no-scroll")}),n.addEventListener("click",e=>{c.classList.remove("active"),d.classList.remove("active"),a.classList.remove("no-scroll")})}});